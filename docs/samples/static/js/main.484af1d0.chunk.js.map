{"version":3,"sources":["basic-schema/index.js","webpack:///./src/basic-schema/index.js?a1dc","options/index.js","webpack:///./src/options/index.js?be74","nested-schema/index.js","webpack:///./src/nested-schema/index.js?123e","custom-wrapper/index.js","webpack:///./src/custom-wrapper/index.js?91e7","custom-registry/index.js","webpack:///./src/custom-registry/index.js?2071","file-schema/index.js","webpack:///./src/file-schema/index.js?a3e4","ajax-call-schema/index.js","webpack:///./src/ajax-call-schema/index.js?4e96","error-messages/index.js","webpack:///./src/error-messages/index.js?5603","custom-error-messages/index.js","webpack:///./src/custom-error-messages/index.js?12ab","conditionals-schema/index.js","webpack:///./src/conditionals-schema/index.js?7337","dependencies-schema/index.js","webpack:///./src/dependencies-schema/index.js?ce20","App.js","index.js","custom-registry/add-icon.png","../../src/constants.ts","../../src/utils.ts","../../src/components/form-element.tsx","../../src/ui-schema.ts","../../src/components/text-element.tsx","../../src/components/file-element.tsx","../../src/components/numeric-element.tsx","../../src/components/select-element.tsx","../../src/components/radio-element.tsx","../../src/components/checkbox-element.tsx","../../src/components/button-element.tsx","../../src/components/multiple-select-element.tsx","../../src/components/index.ts","../../src/components/element-container.tsx","../../src/element-wrapper.tsx","../../src/component-registry.tsx","../../src/error-formatter.tsx","../../src/schema-form.tsx"],"names":["BasicSchemaExample","schema","onSubmit","data","errors","length","console","log","firstName","hobbies","Options","properties","type","options","key","value","labelKey","valueKey","NestedSchemaExample","field","field1","fields","name","CustomWrapper","property","children","className","title","CustomWrapperExample","errorsMessage","map","error","dataPath","substr","lastIndexOf","message","alert","wrapper","CustomTextField","onChange","TextField","event","target","label","helperText","keyword","required","isRequired","CustomAddButton","onClick","src","addIcon","style","height","alt","CustomNumericField","Slider","undefined","minimum","min","newValue","valueLabelDisplay","CustomLocation","useState","coordinates","setCoordinates","useEffect","latitude","longitude","width","Map","center","zoom","latlng","lat","lng","TileLayer","url","attribution","Marker","position","CustomRegistryExample","customRegistry","string","component","integer","enum","addButton","exceptions","keys","writing","location","age","config","registry","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","FileSchemaExample","CustomSelectField","setOptions","loading","setLoading","displayResults","setDisplayResults","resultsTimeout","setResultsTimeout","simulateAjaxCall","startingChars","Promise","resolve","setTimeout","results","resultsLength","Math","ceil","random","i","result","charactersLength","j","charAt","push","generateResults","getOptions","clearTimeout","then","response","onFocus","onBlur","id","opt","index","onMouseDown","e","stopPropagation","CustomAjaxCallSchemaExample","search","min1","max10","exclusiveMin1","exclusiveMax10","minLength","pattern","maxLength","minItems","unique","errorFormatter","err","ConditionalsSchemaExample","App","parseInt","window","hash","selected","setSelected","tabs","code","BasicSchemaExampleJSON","OptionsSchemaExampleJSON","NestedSchemaExampleJSON","CustomWrapperExampleJSON","CustomRegistryExampleJSON","FileSchemaExampleJSON","AjaxCallSchemaExampleJSON","ErrorSchemaExampleJSON","CustomErrorSchemaExampleJSON","ConditionalsSchemaExampleJSON","DependenciesSchemaExampleJSON","handleTabChange","idx","href","tabIndex","tab","data-lang","ReactDOM","render","document","getElementById","module","exports","SCHEMA_KEYWORDS","PROPERTIES","REQUIRED","CONST","IF","BOOLEAN","NUMBER","INTEGER","ARRAY","OBJECT","STRING","MULTIPLE_ENUM","ENUM","FILE","BUTTON","REMOVE_BUTTON","ADD_BUTTON","isObject","item","Array","addProperties","currentObject","newProperties","Object","Set","getConditionals","ifEntries","simpleConditional","getSimpleConditional","compiledIfEntries","getMultipleConditionals","ifEntry","getCompiledConditional","compiledDependencies","getCompiledDependencies","getPropertyPathsIfStatement","path","if","else","extractConditionalFromArray","conditionalSet","entry","conditional","multipleConditionals","compiled","memo","dependencies","dependency","_","FormElement","def","$ref","root","newNestedSchema","items","processRef","setNestedSchema","handleParentChange","JSON","pathKey","nestedSchema","itemValue","parentChange","copy","subVal","registryKey","itemProperty","arrayElementErrors","changedItemValue","parentSchema","renderFormElement","newVal","handleArrayElementRemoval","emptyChild","contentMediaType","typeObjectArrayItem","typeObjectOrObjectArrayItem","typePrimitiveArrayItem","typeArray","typeArrayOfEnums","getElementFromRegistry","renderNestedSchema","renderPrimitiveArrayItem","renderArrayOfEnums","arrayItems","renderArray","CLASSES","file","UISchema","constructor","jsonSchema","this","allErrors","meta","CustomMetaSchema","compile","objectProperties","Error","ajv","$schema","validate","validator","TextElement","CONTAINER_STYLE","FILE_INPUT_STYLE","opacity","FileElement","React","inputElement","reader","fileContent","Buffer","filename","content","accept","isNumeric","isNaN","parseFloat","NumericElement","SelectElement","opts","disabled","RadioElement","handleChange","checked","CheckboxElement","ButtonElement","MultipleSelectElement","multiple","l","InputElements","ElementContainer","ElementWrapper","wrapperClass","transformStringEntries","registryEntries","registryEntry","ComponentRegistry","paths","multipleEnum","boolean","number","button","removeButton","customRegistryRecord","_exceptions","getComponent","props","pathException","keyException","Component","_registry","Wrapper","formatters","params","formatErrors","customFn","formatter","SchemaForm","parentErrors","childPath","lastEvaluations","removeObjPath","prop","obj","removeProperties","currentSchema","baseSchema","nestedPath","removeData","currentData","checkConditionals","actualSchema","conditionals","lastEvaluation","newSchema","newData","currentEvaluation","evalCondition","eval","setCurrentSchema","setKeys","setObj","prevObj","newObj","handleSubmit","instance","object","formattedErrors","setErrors","getErrors","errArr"],"mappings":"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","file":"static/js/main.484af1d0.chunk.js","sourcesContent":["import React from 'react'\nimport schema from './basic-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nexport default function BasicSchemaExample() {\n    function onSubmit(data, errors) {\n        if (!errors || !errors.length) {\n            console.log(data)\n        }\n    }\n\n    const data = {\n        firstName: 'test',\n        hobbies: ['singing', 'drawing']\n    }\n\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\n}\n","export default \"import React from 'react'\\nimport schema from './basic-schema.json'\\nimport { SchemaForm } from '@ascentcore/react-schema-form'\\n\\nexport default function BasicSchemaExample() {\\n    function onSubmit(data, errors) {\\n        if (!errors || !errors.length) {\\n            console.log(data)\\n        }\\n    }\\n\\n    const data = {\\n        firstName: 'test',\\n        hobbies: ['singing', 'drawing']\\n    }\\n\\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\\n}\\n\";","import React from 'react'\nimport schema from './schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nexport default function Options() {\n    function onSubmit(data, errors) {\n        if (!errors || !errors.length) {\n            console.log(data)\n        }\n    }\n\n    const data = {}\n\n    schema.properties.type.options = [\n        { key: 'key1', value: 'value1' },\n        { key: 'key2', value: 'value2' },\n        { key: 'key3', value: 'value3' },\n        { key: 'key4', value: 'value4' }\n    ]\n    schema.properties.type.labelKey = 'key'\n    schema.properties.type.valueKey = 'value'\n\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\n}\n","export default \"import React from 'react'\\nimport schema from './schema.json'\\nimport { SchemaForm } from '@ascentcore/react-schema-form'\\n\\nexport default function Options() {\\n    function onSubmit(data, errors) {\\n        if (!errors || !errors.length) {\\n            console.log(data)\\n        }\\n    }\\n\\n    const data = {}\\n\\n    schema.properties.type.options = [\\n        { key: 'key1', value: 'value1' },\\n        { key: 'key2', value: 'value2' },\\n        { key: 'key3', value: 'value3' },\\n        { key: 'key4', value: 'value4' }\\n    ]\\n    schema.properties.type.labelKey = 'key'\\n    schema.properties.type.valueKey = 'value'\\n\\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\\n}\\n\";","import React from 'react'\nimport schema from './nested-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nexport default function NestedSchemaExample() {\n    function onSubmit(data, errors) {\n        if (!errors || !errors.length) {\n            console.log(data)\n        }\n    }\n\n    const data = {\n        field: {\n            field1: 'field1'\n        },\n        fields: [{ name: 'item1' }, { name: 'item2' }]\n    }\n\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\n}\n","export default \"import React from 'react'\\nimport schema from './nested-schema.json'\\nimport { SchemaForm } from '@ascentcore/react-schema-form'\\n\\nexport default function NestedSchemaExample() {\\n    function onSubmit(data, errors) {\\n        if (!errors || !errors.length) {\\n            console.log(data)\\n        }\\n    }\\n\\n    const data = {\\n        field: {\\n            field1: 'field1'\\n        },\\n        fields: [{ name: 'item1' }, { name: 'item2' }]\\n    }\\n\\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\\n}\\n\";","import React from 'react'\nimport schema from './custom-wrapper-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nfunction CustomWrapper({ property, children }) {\n    return (<div className=\"column col-12\">\n        <div><b>{property.title}</b></div>\n        {children}\n    </div>)\n}\n\nexport default function CustomWrapperExample() {\n    function onSubmit(data, errors) {\n        if (errors && errors.length) {\n            const errorsMessage = errors.map((error) => {\n                return error.dataPath.substr(error.dataPath.lastIndexOf('.') + 1) + ' - ' + error.message\n            })\n            alert(errorsMessage)\n        }\n        console.log(data)\n    }\n\n    const data = {\n        firstName: 'test'\n    }\n\n    return (\n        <div className='container'>\n            <div className='columns'>\n                <SchemaForm schema={schema} onSubmit={onSubmit} wrapper={CustomWrapper} data={data} />\n            </div>\n        </div>\n    )\n}\n","export default \"import React from 'react'\\nimport schema from './custom-wrapper-schema.json'\\nimport { SchemaForm } from '@ascentcore/react-schema-form'\\n\\nfunction CustomWrapper({ property, children }) {\\n    return (<div className=\\\"column col-12\\\">\\n        <div><b>{property.title}</b></div>\\n        {children}\\n    </div>)\\n}\\n\\nexport default function CustomWrapperExample() {\\n    function onSubmit(data, errors) {\\n        if (errors && errors.length) {\\n            const errorsMessage = errors.map((error) => {\\n                return error.dataPath.substr(error.dataPath.lastIndexOf('.') + 1) + ' - ' + error.message\\n            })\\n            alert(errorsMessage)\\n        }\\n        console.log(data)\\n    }\\n\\n    const data = {\\n        firstName: 'test'\\n    }\\n\\n    return (\\n        <div className='container'>\\n            <div className='columns'>\\n                <SchemaForm schema={schema} onSubmit={onSubmit} wrapper={CustomWrapper} data={data} />\\n            </div>\\n        </div>\\n    )\\n}\\n\";","import React, { useEffect, useState } from 'react'\nimport schema from './custom-registry-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\nimport { TextField, Slider } from '@material-ui/core'\n\nimport addIcon from './add-icon.png'\n\nimport { Map, TileLayer, Marker } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport L from 'leaflet';\n\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\nfunction CustomWrapper({ children }) {\n    return <div className='column col-12'>{children}</div>\n}\n\nfunction CustomTextField({ property, value, onChange }) {\n    const handleChange = (event) => {\n        onChange(event.target.value)\n    }\n    return (\n        <TextField\n            value={value || ''}\n            onChange={handleChange}\n            error={!!property.error}\n            label={property.title}\n            helperText={property.error ? property.error[0].keyword : ' '}\n            required={property.isRequired}\n        />\n    )\n}\n\nfunction CustomAddButton({ property, onChange }) {\n    return (\n        <img\n            className={property.className}\n            onClick={onChange}\n            src={addIcon}\n            style={{ height: '15px' }}\n            alt='add icon'\n        />\n    )\n}\n\nfunction CustomNumericField({ property, value, onChange }) {\n    const handleChange = (event, newValue) => {\n        onChange(newValue)\n    }\n\n    return (\n        <Slider\n            value={value !== undefined ? value : property.minimum ? property.minimum : 0}\n            min={property.minimum ? property.minimum : 0}\n            onChange={handleChange}\n            valueLabelDisplay='auto'\n        />\n    )\n}\n\nfunction CustomLocation({ value, onChange }) {\n    const [coordinates, setCoordinates] = useState([46.753731, 23.605707])\n    useEffect(() => {\n        if (value && value.latitude && value.longitude) {\n            setCoordinates([value.latitude, value.longitude])\n        }\n    }, [])\n\n    useEffect(() => {\n        if (value && value.latitude && value.longitude) {\n            setCoordinates([value.latitude, value.longitude])\n        }\n    }, [value])\n\n    const onMapClick = (event) => {\n        onChange({latitude: event.latlng.lat, longitude: event.latlng.lng})\n    }\n\n    return (\n        <div style={{ height: '200px', width: '100%' }}>\n            <Map center={coordinates} zoom={15} style={{ height: '100%', width: '100%' }} onClick={onMapClick}>\n                <TileLayer\n                    url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                />\n                <Marker position={coordinates}>\n                </Marker>\n            </Map>\n        </div>\n    )\n}\n\nexport default function CustomRegistryExample() {\n    function onSubmit(data, errors) {\n        if (!errors || !errors.length) {\n            console.log(data)\n        }\n    }\n\n    const data = {\n        firstName: 'test',\n        age: 18\n    }\n\n    const customRegistry = {\n        string: { component: CustomTextField, wrapper: CustomWrapper },\n        integer: { component: CustomNumericField, wrapper: CustomWrapper },\n        enum: { component: 'RadioElement' },\n        addButton: { component: CustomAddButton, wrapper: CustomWrapper }\n    }\n\n    const exceptions = {\n        keys: {\n            writing: { component: 'SelectElement' },\n            location: { component: CustomLocation, wrapper: CustomWrapper }\n        }\n    }\n\n    return (\n        <SchemaForm\n            schema={schema}\n            onSubmit={onSubmit}\n            data={data}\n            config={{ registry: customRegistry, exceptions: exceptions }}\n        />\n    )\n}\n","export default \"import React, { useEffect, useState } from 'react'\\nimport schema from './custom-registry-schema.json'\\nimport { SchemaForm } from '@ascentcore/react-schema-form'\\nimport { TextField, Slider } from '@material-ui/core'\\n\\nimport addIcon from './add-icon.png'\\n\\nimport { Map, TileLayer, Marker } from 'react-leaflet'\\nimport 'leaflet/dist/leaflet.css'\\n\\nimport L from 'leaflet';\\n\\ndelete L.Icon.Default.prototype._getIconUrl;\\n\\nL.Icon.Default.mergeOptions({\\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png')\\n});\\n\\nfunction CustomWrapper({ children }) {\\n    return <div className='column col-12'>{children}</div>\\n}\\n\\nfunction CustomTextField({ property, value, onChange }) {\\n    const handleChange = (event) => {\\n        onChange(event.target.value)\\n    }\\n    return (\\n        <TextField\\n            value={value || ''}\\n            onChange={handleChange}\\n            error={!!property.error}\\n            label={property.title}\\n            helperText={property.error ? property.error[0].keyword : ' '}\\n            required={property.isRequired}\\n        />\\n    )\\n}\\n\\nfunction CustomAddButton({ property, onChange }) {\\n    return (\\n        <img\\n            className={property.className}\\n            onClick={onChange}\\n            src={addIcon}\\n            style={{ height: '15px' }}\\n            alt='add icon'\\n        />\\n    )\\n}\\n\\nfunction CustomNumericField({ property, value, onChange }) {\\n    const handleChange = (event, newValue) => {\\n        onChange(newValue)\\n    }\\n\\n    return (\\n        <Slider\\n            value={value !== undefined ? value : property.minimum ? property.minimum : 0}\\n            min={property.minimum ? property.minimum : 0}\\n            onChange={handleChange}\\n            valueLabelDisplay='auto'\\n        />\\n    )\\n}\\n\\nfunction CustomLocation({ value, onChange }) {\\n    const [coordinates, setCoordinates] = useState([46.753731, 23.605707])\\n    useEffect(() => {\\n        if (value && value.latitude && value.longitude) {\\n            setCoordinates([value.latitude, value.longitude])\\n        }\\n    }, [])\\n\\n    useEffect(() => {\\n        if (value && value.latitude && value.longitude) {\\n            setCoordinates([value.latitude, value.longitude])\\n        }\\n    }, [value])\\n\\n    const onMapClick = (event) => {\\n        onChange({latitude: event.latlng.lat, longitude: event.latlng.lng})\\n    }\\n\\n    return (\\n        <div style={{ height: '200px', width: '100%' }}>\\n            <Map center={coordinates} zoom={15} style={{ height: '100%', width: '100%' }} onClick={onMapClick}>\\n                <TileLayer\\n                    url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\\n                    attribution='&copy; <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors'\\n                />\\n                <Marker position={coordinates}>\\n                </Marker>\\n            </Map>\\n        </div>\\n    )\\n}\\n\\nexport default function CustomRegistryExample() {\\n    function onSubmit(data, errors) {\\n        if (!errors || !errors.length) {\\n            console.log(data)\\n        }\\n    }\\n\\n    const data = {\\n        firstName: 'test',\\n        age: 18\\n    }\\n\\n    const customRegistry = {\\n        string: { component: CustomTextField, wrapper: CustomWrapper },\\n        integer: { component: CustomNumericField, wrapper: CustomWrapper },\\n        enum: { component: 'RadioElement' },\\n        addButton: { component: CustomAddButton, wrapper: CustomWrapper }\\n    }\\n\\n    const exceptions = {\\n        keys: {\\n            writing: { component: 'SelectElement' },\\n            location: { component: CustomLocation, wrapper: CustomWrapper }\\n        }\\n    }\\n\\n    return (\\n        <SchemaForm\\n            schema={schema}\\n            onSubmit={onSubmit}\\n            data={data}\\n            config={{ registry: customRegistry, exceptions: exceptions }}\\n        />\\n    )\\n}\\n\";","import React from 'react'\nimport schema from './file-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nexport default function FileSchemaExample() {\n    function onSubmit(data, errors) {\n        if (!errors || !errors.length) {\n            console.log(data)\n        }\n    }\n\n    const data = {}\n\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\n}\n","export default \"import React from 'react'\\nimport schema from './file-schema.json'\\nimport { SchemaForm } from '@ascentcore/react-schema-form'\\n\\nexport default function FileSchemaExample() {\\n    function onSubmit(data, errors) {\\n        if (!errors || !errors.length) {\\n            console.log(data)\\n        }\\n    }\\n\\n    const data = {}\\n\\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\\n}\\n\";","import React, { useEffect, useState } from 'react'\nimport schema from './ajax-call-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nconst generateResults = (startingChars) => {\n    const results = []\n    const characters = ' abcdefghijklmnopqrstuvwxyz'\n    const resultsLength = Math.ceil(Math.random() * 10)\n    for (let i = 0; i < resultsLength; i++) {\n        let result = startingChars || ''\n        const charactersLength = Math.ceil(Math.random() * 10)\n        for (let j = 0; j < charactersLength; j++) {\n            result += characters.charAt(Math.ceil(Math.random() * charactersLength))\n        }\n        results.push(result)\n    }\n\n    return results\n}\n\nfunction CustomSelectField({ value, onChange }) {\n    const [options, setOptions] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [displayResults, setDisplayResults] = useState(false)\n    let [resultsTimeout, setResultsTimeout] = useState(0)\n\n    const simulateAjaxCall = (startingChars) => {\n        return new Promise((resolve) => {\n            setResultsTimeout(\n                setTimeout(() => {\n                    resolve(generateResults(startingChars))\n                }, 1000)\n            )\n        })\n    }\n\n    const getOptions = (startingChars) => {\n        if (loading && resultsTimeout) {\n            clearTimeout(resultsTimeout)\n        }\n        setLoading(true)\n        simulateAjaxCall(startingChars).then((response) => {\n            setOptions(response)\n            setLoading(false)\n        })\n    }\n\n    useEffect(() => {\n        getOptions('')\n    }, [])\n    const handleChange = (event) => {\n        onChange(event.target.value)\n        getOptions(event.target.value)\n    }\n    return (\n        <span className='custom-select-field'>\n            <input\n                onChange={handleChange}\n                value={value || ''}\n                onFocus={() => {\n                    setDisplayResults(true)\n                }}\n                onBlur={() => {\n                    setDisplayResults(false)\n                }}\n            />\n            {displayResults && (\n                <div className='results' id='results'>\n                    {!loading ? (\n                        options.map((opt, index) => (\n                            <div\n                                className='result'\n                                key={index + opt}\n                                onMouseDown={(e) => {\n                                    onChange(opt)\n                                    e.stopPropagation()\n                                }}\n                            >\n                                {opt}\n                            </div>\n                        ))\n                    ) : (\n                        <div className='loader' />\n                    )}\n                </div>\n            )}\n        </span>\n    )\n}\n\nexport default function CustomAjaxCallSchemaExample() {\n    function onSubmit(data, errors) {\n        if (!errors || !errors.length) {\n            console.log(data)\n        }\n    }\n\n    const exceptions = {\n        keys: {\n            search: { component: CustomSelectField }\n        }\n    }\n\n    return <SchemaForm schema={schema} onSubmit={onSubmit} config={{ exceptions: exceptions }} />\n}\n","export default \"import React, { useEffect, useState } from 'react'\\nimport schema from './ajax-call-schema.json'\\nimport { SchemaForm } from '@ascentcore/react-schema-form'\\n\\nconst generateResults = (startingChars) => {\\n    const results = []\\n    const characters = ' abcdefghijklmnopqrstuvwxyz'\\n    const resultsLength = Math.ceil(Math.random() * 10)\\n    for (let i = 0; i < resultsLength; i++) {\\n        let result = startingChars || ''\\n        const charactersLength = Math.ceil(Math.random() * 10)\\n        for (let j = 0; j < charactersLength; j++) {\\n            result += characters.charAt(Math.ceil(Math.random() * charactersLength))\\n        }\\n        results.push(result)\\n    }\\n\\n    return results\\n}\\n\\nfunction CustomSelectField({ value, onChange }) {\\n    const [options, setOptions] = useState([])\\n    const [loading, setLoading] = useState(false)\\n    const [displayResults, setDisplayResults] = useState(false)\\n    let [resultsTimeout, setResultsTimeout] = useState(0)\\n\\n    const simulateAjaxCall = (startingChars) => {\\n        return new Promise((resolve) => {\\n            setResultsTimeout(\\n                setTimeout(() => {\\n                    resolve(generateResults(startingChars))\\n                }, 1000)\\n            )\\n        })\\n    }\\n\\n    const getOptions = (startingChars) => {\\n        if (loading && resultsTimeout) {\\n            clearTimeout(resultsTimeout)\\n        }\\n        setLoading(true)\\n        simulateAjaxCall(startingChars).then((response) => {\\n            setOptions(response)\\n            setLoading(false)\\n        })\\n    }\\n\\n    useEffect(() => {\\n        getOptions('')\\n    }, [])\\n    const handleChange = (event) => {\\n        onChange(event.target.value)\\n        getOptions(event.target.value)\\n    }\\n    return (\\n        <span className='custom-select-field'>\\n            <input\\n                onChange={handleChange}\\n                value={value || ''}\\n                onFocus={() => {\\n                    setDisplayResults(true)\\n                }}\\n                onBlur={() => {\\n                    setDisplayResults(false)\\n                }}\\n            />\\n            {displayResults && (\\n                <div className='results' id='results'>\\n                    {!loading ? (\\n                        options.map((opt, index) => (\\n                            <div\\n                                className='result'\\n                                key={index + opt}\\n                                onMouseDown={(e) => {\\n                                    onChange(opt)\\n                                    e.stopPropagation()\\n                                }}\\n                            >\\n                                {opt}\\n                            </div>\\n                        ))\\n                    ) : (\\n                        <div className='loader' />\\n                    )}\\n                </div>\\n            )}\\n        </span>\\n    )\\n}\\n\\nexport default function CustomAjaxCallSchemaExample() {\\n    function onSubmit(data, errors) {\\n        if (!errors || !errors.length) {\\n            console.log(data)\\n        }\\n    }\\n\\n    const exceptions = {\\n        keys: {\\n            search: { component: CustomSelectField }\\n        }\\n    }\\n\\n    return <SchemaForm schema={schema} onSubmit={onSubmit} config={{ exceptions: exceptions }} />\\n}\\n\";","import React from 'react'\nimport schema from './error-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nexport default function BasicSchemaExample() {\n    function onSubmit(data, errors) {\n        if (!errors || !errors.length) {\n            console.log(data)\n        }\n    }\n\n    const data = {\n        min1: 0,\n        max10: 11,\n        exclusiveMin1: 0,\n        exclusiveMax10: 11,\n        minLength: '',\n        pattern: 'wrong',\n        maxLength: 'maxlengthexceeded',\n        minItems: ['a'],\n        unique: ['a', 'a']\n    }\n\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\n}\n","export default \"import React from 'react'\\nimport schema from './error-schema.json'\\nimport { SchemaForm } from '@ascentcore/react-schema-form'\\n\\nexport default function BasicSchemaExample() {\\n    function onSubmit(data, errors) {\\n        if (!errors || !errors.length) {\\n            console.log(data)\\n        }\\n    }\\n\\n    const data = {\\n        min1: 0,\\n        max10: 11,\\n        exclusiveMin1: 0,\\n        exclusiveMax10: 11,\\n        minLength: '',\\n        pattern: 'wrong',\\n        maxLength: 'maxlengthexceeded',\\n        minItems: ['a'],\\n        unique: ['a', 'a']\\n    }\\n\\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\\n}\\n\";","import React from 'react'\nimport schema from './error-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nexport default function BasicSchemaExample() {\n    function onSubmit(data, errors) {\n        if (!errors || !errors.length) {\n            console.log(data)\n        }\n    }\n\n    const data = {\n        min1: 0,\n        max10: 11,\n        exclusiveMin1: 0,\n        exclusiveMax10: 11,\n        minLength: '',\n        pattern: 'wrong',\n        maxLength: 'maxlengthexceeded',\n        minItems: ['a'],\n        unique: ['a', 'a']\n    }\n\n    const formatError = (err) => {\n        err.message = `Keyword: ${err.keyword}`\n        return err\n    }\n\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} errorFormatter={formatError} />\n}\n","export default \"import React from 'react'\\nimport schema from './error-schema.json'\\nimport { SchemaForm } from '@ascentcore/react-schema-form'\\n\\nexport default function BasicSchemaExample() {\\n    function onSubmit(data, errors) {\\n        if (!errors || !errors.length) {\\n            console.log(data)\\n        }\\n    }\\n\\n    const data = {\\n        min1: 0,\\n        max10: 11,\\n        exclusiveMin1: 0,\\n        exclusiveMax10: 11,\\n        minLength: '',\\n        pattern: 'wrong',\\n        maxLength: 'maxlengthexceeded',\\n        minItems: ['a'],\\n        unique: ['a', 'a']\\n    }\\n\\n    const formatError = (err) => {\\n        err.message = `Keyword: ${err.keyword}`\\n        return err\\n    }\\n\\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} errorFormatter={formatError} />\\n}\\n\";","import React from 'react'\nimport schema from './conditionals-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nexport default function ConditionalsSchemaExample() {\n    function onSubmit(data, errors) {\n        if (!errors || !errors.length) {\n            console.log(data)\n        }\n    }\n\n    const data = { }\n\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\n}\n","export default \"import React from 'react'\\nimport schema from './conditionals-schema.json'\\nimport { SchemaForm } from '@ascentcore/react-schema-form'\\n\\nexport default function ConditionalsSchemaExample() {\\n    function onSubmit(data, errors) {\\n        if (!errors || !errors.length) {\\n            console.log(data)\\n        }\\n    }\\n\\n    const data = { }\\n\\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\\n}\\n\";","import React from 'react'\nimport schema from './dependencies-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nexport default function ConditionalsSchemaExample() {\n    function onSubmit(data, errors) {\n        if (!errors || !errors.length) {\n            console.log(data)\n        }\n    }\n\n    const data = { }\n\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\n}\n","export default \"import React from 'react'\\nimport schema from './dependencies-schema.json'\\nimport { SchemaForm } from '@ascentcore/react-schema-form'\\n\\nexport default function ConditionalsSchemaExample() {\\n    function onSubmit(data, errors) {\\n        if (!errors || !errors.length) {\\n            console.log(data)\\n        }\\n    }\\n\\n    const data = { }\\n\\n    return <SchemaForm schema={schema} onSubmit={onSubmit} data={data} />\\n}\\n\";","/* eslint-disable import/no-webpack-loader-syntax */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport './css/spectre.min.css'\nimport './css/spectre-icons.min.css'\n\nimport React, { useState } from 'react'\nimport ReactJson from 'react-json-view'\n\nimport BasicSchemaExample from './basic-schema'\nimport BasicSchemaExampleJSON from './basic-schema/basic-schema.json'\nimport BasicSchemaExampleCode from '!!raw-loader!./basic-schema/index.js';\n\nimport OptionsSchemaExample from './options'\nimport OptionsSchemaExampleJSON from './options/schema.json'\nimport OptionsSchemaExampleCode from '!!raw-loader!./options/index.js';\n\nimport NestedSchemaExample from './nested-schema'\nimport NestedSchemaExampleJSON from './nested-schema/nested-schema.json'\nimport NestedSchemaExampleCode from '!!raw-loader!./nested-schema/index.js';\n\nimport CustomWrapperExample from './custom-wrapper'\nimport CustomWrapperExampleJSON from './custom-wrapper/custom-wrapper-schema.json'\nimport CustomWrapperExampleCode from '!!raw-loader!./custom-wrapper/index.js';\n\nimport CustomRegistryExample from './custom-registry'\nimport CustomRegistryExampleJSON from './custom-registry/custom-registry-schema.json'\nimport CustomRegistryExampleCode from '!!raw-loader!./custom-registry/index.js';\n\nimport FileSchemaExample from './file-schema'\nimport FileSchemaExampleJSON from './file-schema/file-schema.json'\nimport FileSchemaExampleCode from '!!raw-loader!./file-schema/index.js';\n\nimport AjaxCallSchemaExample from './ajax-call-schema'\nimport AjaxCallSchemaExampleJSON from './ajax-call-schema/ajax-call-schema.json'\nimport AjaxCallSchemaExampleCode from '!!raw-loader!./ajax-call-schema/index.js';\n\nimport ErrorSchemaExample from './error-messages'\nimport ErrorSchemaExampleJSON from './error-messages/error-schema.json'\nimport ErrorSchemaExampleCode from '!!raw-loader!./error-messages/index.js';\n\nimport CustomErrorSchemaExample from './custom-error-messages'\nimport CustomErrorSchemaExampleJSON from './custom-error-messages/error-schema.json'\nimport CustomErrorSchemaExampleCode from '!!raw-loader!./custom-error-messages/index.js';\n\nimport ConditionalsSchemaExample from './conditionals-schema'\nimport ConditionalsSchemaExampleJSON from './conditionals-schema/conditionals-schema.json'\nimport ConditionalsSchemaExampleCode from '!!raw-loader!./conditionals-schema/index.js';\n\n\nimport DependenciesSchemaExample from './dependencies-schema'\nimport DependenciesSchemaExampleJSON from './dependencies-schema/dependencies-schema.json'\nimport DependenciesSchemaExampleCode from '!!raw-loader!./dependencies-schema/index.js';\n\nconst App = () => {\n\n  const [selected, setSelected] = useState(parseInt(window.location.hash.substr(1)) || 0)\n  const tabs = [\n    {\n      title: 'Basic Example',\n      component: <BasicSchemaExample />,\n      code: BasicSchemaExampleCode,\n      schema: BasicSchemaExampleJSON\n    },\n    {\n      title: 'Options Example',\n      component: <OptionsSchemaExample />,\n      code: OptionsSchemaExampleCode,\n      schema: OptionsSchemaExampleJSON\n    },\n    {\n      title: 'Nested Schema',\n      component: <NestedSchemaExample />,\n      code: NestedSchemaExampleCode,\n      schema: NestedSchemaExampleJSON\n    },\n    {\n      title: 'Custom Wrapper',\n      component: <CustomWrapperExample />,\n      code: CustomWrapperExampleCode,\n      schema: CustomWrapperExampleJSON\n    },\n    {\n      title: 'Custom Registry',\n      component: <CustomRegistryExample />,\n      code: CustomRegistryExampleCode,\n      schema: CustomRegistryExampleJSON\n    },\n    {\n      title: 'File Schema',\n      component: <FileSchemaExample />,\n      code: FileSchemaExampleCode,\n      schema: FileSchemaExampleJSON\n    },\n    {\n      title: 'Ajax Call Schema',\n      component: <AjaxCallSchemaExample />,\n      code: AjaxCallSchemaExampleCode,\n      schema: AjaxCallSchemaExampleJSON\n    },\n    {\n      title: 'Error Messages',\n      component: <ErrorSchemaExample />,\n      code: ErrorSchemaExampleCode,\n      schema: ErrorSchemaExampleJSON\n    },\n    {\n      title: 'Custom Error Messages',\n      component: <CustomErrorSchemaExample />,\n      code: CustomErrorSchemaExampleCode,\n      schema: CustomErrorSchemaExampleJSON\n    },\n    {\n      title: 'Conditionals Schema',\n      component: <ConditionalsSchemaExample />,\n      code: ConditionalsSchemaExampleCode,\n      schema: ConditionalsSchemaExampleJSON\n    },\n    {\n      title: 'Dependencies Schema',\n      component: <DependenciesSchemaExample />,\n      code: DependenciesSchemaExampleCode,\n      schema: DependenciesSchemaExampleJSON\n    }\n  ]\n\n  const handleTabChange = (idx) => () => {\n    setSelected(idx)\n\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"columns\">\n\n        <div className=\"column col-12 show-md\">\n          <div className=\"dropdown\">\n            <a href=\"#\" className=\"btn btn-link dropdown-toggle\" tabIndex=\"0\">\n              Menu <i className=\"icon icon-caret\"></i>\n            </a>\n            <ul className=\"menu nav\">\n              {tabs.map((tab, index) => <li key={index} className={`nav-item ${index === selected ? 'active' : ''}`} onClick={handleTabChange(index)}>\n                <a href={`#${index}`}>{tab.title}</a>\n              </li>)}\n            </ul>\n          </div>\n        </div>\n\n        <div className=\"column col-2 hide-md\">\n          <ul className=\"nav\">\n            {tabs.map((tab, index) => <li key={index} className={`nav-item ${index === selected ? 'active' : ''}`} onClick={handleTabChange(index)}>\n              <a href={`#${index}`}>{tab.title}</a>\n            </li>)}\n          </ul >\n        </div>\n\n        <div className=\"columns col-md-12 col-10\">\n\n          <div className=\"column col-sm-12 col-6\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <h4>Schema</h4>\n                <ReactJson src={tabs[selected].schema} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"column col-sm-12 col-6\">\n            <div className=\"card\">\n              <div className=\"card-header\">\n                <div className=\"card-title h5\">{tabs[selected].title}</div>\n                <div className=\"card-subtitle text-gray\">Generated Form</div>\n              </div>\n              <div className=\"card-body\">\n                {tabs[selected].component}\n              </div>\n            </div>\n\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <h4>Code</h4>\n                <pre className=\"code\" data-lang=\"JS\">\n                  <code>\n                    {tabs[selected].code}\n                  </code>\n                </pre>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n","module.exports = \"data:image/png;base64,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\"","export const SCHEMA_KEYWORDS = {\n    PROPERTIES: 'properties',\n    REQUIRED: 'required',\n    CONST: 'const',\n    IF: 'if',\n    BOOLEAN: 'boolean',\n    NUMBER: 'number',\n    INTEGER: 'integer',\n    ARRAY: 'array',\n    OBJECT: 'object',\n    STRING: 'string',\n    MULTIPLE_ENUM: 'multipleEnum',\n    ENUM: 'enum',\n    FILE: 'file',\n    BUTTON: 'button',\n    REMOVE_BUTTON: 'removeButton',\n    ADD_BUTTON: 'addButton'\n}\n","import { SchemaProperty } from './components/form-element'\nimport { SCHEMA_KEYWORDS } from './constants'\n\nexport interface Conditional {\n    compiled: string\n    then?: SchemaProperty\n    else?: SchemaProperty\n}\n\n//checks if item is object\nexport const isObject = (item: any) => {\n    return item && typeof item === SCHEMA_KEYWORDS.OBJECT && !Array.isArray(item)\n}\n\n//merges the current object at all nesting levels with a new one\n//the method does not return a new object; the current one is being altered\nexport const addProperties = (currentObject: any, newProperties: any): any => {\n    if (isObject(currentObject) && isObject(newProperties)) {\n        for (const key in newProperties) {\n            if (isObject(newProperties[key])) {\n                if (!currentObject[key]) {\n                    Object.assign(currentObject, { [key]: {} })\n                }\n                addProperties(currentObject[key], newProperties[key])\n            } else {\n                if (\n                    key === SCHEMA_KEYWORDS.REQUIRED &&\n                    Array.isArray(newProperties[key]) &&\n                    Array.isArray(currentObject[key])\n                ) {\n                    //@ts-ignore\n                    currentObject[key] = [...new Set(currentObject[key].concat(...newProperties[key]))]\n                } else {\n                    Object.assign(currentObject, { [key]: newProperties[key] })\n                }\n            }\n        }\n    }\n}\n\n//gets all conditionals specified at root level of a schema;\n//conditionals that are both specified with simple ifs, or as a list with allOf, anyOf, oneOf\nexport const getConditionals = (schema: SchemaProperty): Conditional[] => {\n    let ifEntries = []\n    const simpleConditional = getSimpleConditional(schema)\n    if (simpleConditional) {\n        ifEntries.push(simpleConditional)\n    }\n    ifEntries = ifEntries.concat(getMultipleConditionals(schema))\n    const compiledIfEntries = ifEntries.map((ifEntry) => getCompiledConditional(ifEntry))\n    let compiledDependencies: Conditional[] = []\n    if (schema.dependencies) {\n        compiledDependencies = getCompiledDependencies(schema.dependencies)\n    }\n    return compiledIfEntries.concat(compiledDependencies)\n}\n\n//given a schema, the function will return a list with all the paths of the schema and the value of the leaf node\n//keywords such as properties and const are not included\n//usage: extract all the conditions specified inside an if statement\nconst getPropertyPathsIfStatement = (schema: any, path = ''): { '0': string; '1': any }[] => {\n    if (isObject(schema)) {\n        return Array.prototype.concat.apply(\n            [],\n            Object.keys(schema).map((key) =>\n                getPropertyPathsIfStatement(\n                    schema[key],\n                    key === SCHEMA_KEYWORDS.PROPERTIES || key === SCHEMA_KEYWORDS.CONST ? path : path + '.' + key\n                )\n            )\n        )\n    } else {\n        return [{ '0': path, '1': schema }]\n    }\n}\n\n//extract conditional from a simple if statement\nconst getSimpleConditional = (schema: SchemaProperty) => {\n    if (schema.if && schema.if.properties) {\n        return {\n            if: getPropertyPathsIfStatement(schema.if!) as { '0': string; '1': any }[],\n            then: schema.then,\n            else: schema.else\n        }\n    } else {\n        return null\n    }\n}\n\n//extract conditionals from array\nconst extractConditionalFromArray = (\n    conditionalSet: SchemaProperty[]\n): {\n    if: { '0': string; '1': any }[]\n    then: SchemaProperty | undefined\n    else: SchemaProperty | undefined\n}[] => {\n    return conditionalSet\n        .filter((entry) => entry.if !== undefined)\n        .map((conditional) => {\n            return {\n                if: getPropertyPathsIfStatement(conditional.if!) as { '0': string; '1': any }[],\n                then: conditional.then,\n                else: conditional.else\n            }\n        })\n}\n\n//extract conditionals from allOf, anyOf, oneOf statements\nconst getMultipleConditionals = (schema: SchemaProperty) => {\n    let multipleConditionals: {\n        if: { '0': string; '1': any }[]\n        then: SchemaProperty | undefined\n        else: SchemaProperty | undefined\n    }[] = []\n    if (schema.allOf) {\n        multipleConditionals = multipleConditionals.concat(extractConditionalFromArray(schema.allOf))\n    }\n    if (schema.anyOf) {\n        multipleConditionals = multipleConditionals.concat(extractConditionalFromArray(schema.anyOf))\n    }\n    if (schema.oneOf) {\n        multipleConditionals = multipleConditionals.concat(extractConditionalFromArray(schema.oneOf))\n    }\n    return multipleConditionals\n}\n\n//constructs string function which will be compiled when needed;\n//rewrites the condition under an if statement as a function\nconst getCompiledConditional = (ifEntry: {\n    if: { '0': string; '1': SchemaProperty }[]\n    then: SchemaProperty | undefined\n    else: SchemaProperty | undefined\n}): Conditional => {\n    const compiled: string = `data => { return (${ifEntry.if\n        .reduce((memo: string[], item: { '0': string; '1': any }) => {\n            return memo.concat([\n                'data' + item[0] + '==' + (typeof item[1] === SCHEMA_KEYWORDS.STRING ? \"'\" + item[1] + \"'\" : item[1])\n            ])\n        }, [])\n        .join(' && ')}) || (${ifEntry.if\n        .reduce((memo: string[], item: { '0': string; '1': any }) => {\n            return memo.concat(['data' + item[0] + '==' + 'undefined'])\n        }, [])\n        .join(' && ')}) }`\n    return {\n        compiled: compiled,\n        ...(ifEntry.then ? { then: ifEntry.then } : {}),\n        ...(ifEntry.else ? { else: ifEntry.else } : {})\n    }\n}\n\nconst getCompiledDependencies = (dependencies: { [key: string]: string[] | SchemaProperty }): Conditional[] => {\n    return Object.entries(dependencies).map((dependency) => {\n        const compiled: string = `data => { return (data.${dependency[0]} !== undefined) }`\n        return {\n            compiled: compiled,\n            ...(Array.isArray(dependency[1]) ? { then: { required: dependency[1] } } : { then: dependency[1] })\n        }\n    })\n}\n","import React, { Fragment, useState, useEffect, ReactNode } from 'react'\nimport { SchemaForm } from '../schema-form'\nimport { addProperties } from '../utils'\nimport ComponentRegistry from '../component-registry'\nimport { SCHEMA_KEYWORDS } from '../constants'\nimport ajv from 'ajv'\nconst _ = require('lodash')\n\nexport interface SchemaProperty {\n    $ref?: string\n    items?: SchemaProperty\n    type?: string\n    title?: string\n    description?: string\n    properties?: { [key: string]: SchemaProperty }\n    required?: string[]\n    enum?: string[]\n    options?: { [key: string]: string }[]\n    labelKey?: string\n    valueKey?: string\n    minimum?: number\n    maximum?: number\n    default?: any\n    contentEncoding?: string\n    contentMediaType?: string\n    if?: any\n    then?: any\n    else?: any\n    const?: any\n    instanceof?: string\n    definitions?: any\n    allOf?: SchemaProperty[]\n    anyOf?: SchemaProperty[]\n    oneOf?: SchemaProperty[]\n    dependencies?: {\n        [key: string]: string[] | SchemaProperty\n    }\n\n    path?: string\n    registryKey?: string\n    error?: ajv.ErrorObject[] | boolean\n    isRequired?: boolean\n    className?: string\n}\n\ninterface FormElementProperties {\n    root: SchemaProperty\n    parentSchema: any\n    schema: SchemaProperty\n    path: string\n    value: any\n    errors: ajv.ErrorObject[]\n    error: ajv.ErrorObject[] | boolean\n    handleParentChange: (value: any, childPath: string) => void\n    registry: ComponentRegistry\n}\n\nexport default function FormElement({\n    root,\n    parentSchema,\n    schema,\n    path,\n    value,\n    errors,\n    error,\n    handleParentChange,\n    registry\n}: FormElementProperties) {\n    const [nestedSchema, setNestedSchema] = useState<SchemaProperty | null>(null)\n\n    useEffect(() => {\n        function processRef($ref: string) {\n            const def = $ref.substr($ref.lastIndexOf('/') + 1)\n            return root.definitions[def]\n        }\n\n        function initializeData() {\n            if (value === undefined) {\n                if (schema.default !== undefined) {\n                    handleParentChange(schema.default, path)\n                } else {\n                    if (schema.type === SCHEMA_KEYWORDS.BOOLEAN) {\n                        handleParentChange(false, path)\n                    }\n                }\n            }\n        }\n\n        const { $ref, items, properties } = schema\n        let newNestedSchema = null\n\n        if (items) {\n            if (items.$ref) {\n                newNestedSchema = _.cloneDeep(processRef(items.$ref))\n            } else if (items.properties) {\n                newNestedSchema = _.cloneDeep(items)\n            }\n        } else {\n            if ($ref) {\n                newNestedSchema = _.cloneDeep(processRef($ref))\n            }\n            if (properties) {\n                if (!$ref) {\n                    newNestedSchema = _.cloneDeep(schema)\n                }\n                addProperties(newNestedSchema, {\n                    properties: schema.properties,\n                    required: schema.required ? schema.required : []\n                })\n            }\n        }\n        setNestedSchema(newNestedSchema)\n\n        initializeData()\n    }, [schema])\n\n    const handleArrayElementRemoval = (index: number) => () => {\n        const newVal = [...value]\n        newVal.splice(index, 1)\n        handleParentChange(newVal, path)\n    }\n\n    function renderNestedSchema(pathKey: string, itemValue: any, index: null | number) {\n        return (\n            <SchemaForm\n                root={root}\n                key={JSON.stringify(nestedSchema)}\n                path={pathKey}\n                schema={nestedSchema}\n                data={itemValue}\n                errors={errors}\n                parentChange={(subVal: any, key: string) => {\n                    if (index !== null) {\n                        const copy = [...value]\n                        copy[index] = subVal\n                        handleParentChange(copy, key)\n                    } else {\n                        handleParentChange(subVal, key)\n                    }\n                }}\n            />\n        )\n    }\n\n    function renderPrimitiveArrayItem(itemValue: any, itemProperty: SchemaProperty, index: number) {\n        const registryKey =\n            itemProperty.enum || itemProperty.options\n                ? SCHEMA_KEYWORDS.ENUM\n                : itemProperty.contentEncoding || itemProperty.contentMediaType\n                ? SCHEMA_KEYWORDS.FILE\n                : itemProperty.type\n        const pathKey = `${path}[${index}]`\n\n        let arrayElementErrors: ajv.ErrorObject[] | boolean = errors.filter((err) => err.dataPath === pathKey)\n        if (arrayElementErrors && arrayElementErrors.length === 0) {\n            arrayElementErrors = false\n        }\n\n        return registry.getComponent(\n            {\n                ...itemProperty,\n                path: pathKey,\n                registryKey,\n                error: arrayElementErrors,\n                type: registryKey\n            },\n            itemValue,\n            (changedItemValue: string | number | boolean) => {\n                const copy = [...value]\n                copy[index] = changedItemValue\n                handleParentChange(copy, path)\n            },\n            null\n        )\n    }\n\n    function renderArrayOfEnums(itemValue: any, itemProperty: SchemaProperty) {\n        const key = path.substr(path.lastIndexOf('.') + 1)\n        const isRequired = parentSchema.required && parentSchema.required.indexOf(key) > -1\n\n        return registry.getComponent(\n            {\n                enum: itemProperty.enum,\n                path,\n                registryKey: SCHEMA_KEYWORDS.MULTIPLE_ENUM,\n                error,\n                isRequired,\n                title: schema.title,\n                type: SCHEMA_KEYWORDS.ENUM\n            },\n            itemValue,\n            (changedItemValue: string | number | boolean) => handleParentChange(changedItemValue, path),\n            null\n        )\n    }\n\n    function renderArray(itemValue: any) {\n        return (\n            <Fragment>\n                {itemValue &&\n                    itemValue.map((item: any, index: number) => (\n                        <Fragment key={`${path}-${itemValue.length}-${index}`}>\n                            {renderFormElement(item, index)}\n                            {registry.getComponent(\n                                {\n                                    registryKey: SCHEMA_KEYWORDS.REMOVE_BUTTON,\n                                    className: 'ra-remove-button'\n                                },\n                                'Remove item',\n                                handleArrayElementRemoval(index)\n                            )}\n                        </Fragment>\n                    ))}\n                {registry.getComponent(\n                    { registryKey: SCHEMA_KEYWORDS.ADD_BUTTON, className: 'ra-add-button' },\n                    'Add item',\n                    () => {\n                        let emptyChild = {}\n                        if (!nestedSchema && schema.items && schema.items.type) {\n                            switch (schema.items.type) {\n                                case SCHEMA_KEYWORDS.INTEGER:\n                                case SCHEMA_KEYWORDS.NUMBER:\n                                    emptyChild = typeof schema.items.minimum === 'number' ? schema.items.minimum : 0\n                                    break\n                                case SCHEMA_KEYWORDS.BOOLEAN:\n                                    emptyChild = false\n                                    break\n                                default:\n                                    emptyChild = ''\n                            }\n                        }\n                        handleParentChange([...(itemValue || []), emptyChild], path)\n                    }\n                )}\n            </Fragment>\n        )\n    }\n\n    function getElementFromRegistry(itemValue: any, children: ReactNode | null = null, title?: string, type?: string) {\n        const registryKey =\n            schema.enum || schema.options\n                ? SCHEMA_KEYWORDS.ENUM\n                : schema.contentEncoding || schema.contentMediaType || schema.instanceof === SCHEMA_KEYWORDS.FILE\n                ? SCHEMA_KEYWORDS.FILE\n                : schema.type\n        const key = path.substr(path.lastIndexOf('.') + 1)\n        const isRequired = parentSchema.required && parentSchema.required.indexOf(key) > -1\n\n        return registry.getComponent(\n            {\n                ...schema,\n                path,\n                registryKey,\n                error,\n                isRequired,\n                title: title || schema.title,\n                type: type || schema.type,\n                contentMediaType:\n                    schema.instanceof === SCHEMA_KEYWORDS.FILE\n                        ? schema.properties!.content.contentMediaType\n                        : schema.contentMediaType\n            },\n            itemValue,\n            (changedItemValue: string | number | boolean) => handleParentChange(changedItemValue, path),\n            children\n        )\n    }\n\n    function renderFormElement(itemValue: any, index: number | null = null) {\n        const typeObjectArrayItem = !!nestedSchema && schema.type === SCHEMA_KEYWORDS.ARRAY && index !== null\n        const typeObjectOrObjectArrayItem =\n            (!!nestedSchema && schema.type !== SCHEMA_KEYWORDS.ARRAY) || typeObjectArrayItem\n\n        const typePrimitiveArrayItem =\n            !nestedSchema &&\n            schema.type === SCHEMA_KEYWORDS.ARRAY &&\n            index !== null &&\n            !!schema.items &&\n            !!schema.items.type\n\n        const typeArray = schema.type === SCHEMA_KEYWORDS.ARRAY && index === null\n        const typeArrayOfEnums =\n            schema.type === SCHEMA_KEYWORDS.ARRAY &&\n            index === null &&\n            schema.items &&\n            schema.items.type === SCHEMA_KEYWORDS.STRING &&\n            schema.items.enum !== undefined\n\n        if (typeObjectOrObjectArrayItem) {\n            const pathKey = index === null ? path : `${path}[${index}]`\n\n            return getElementFromRegistry(\n                itemValue,\n                renderNestedSchema(pathKey, itemValue, index),\n                nestedSchema!.title,\n                typeObjectArrayItem ? nestedSchema!.type : schema.type\n            )\n        } else if (typePrimitiveArrayItem) {\n            return renderPrimitiveArrayItem(itemValue, schema.items!, index!)\n        } else if (typeArrayOfEnums) {\n            return renderArrayOfEnums(itemValue, schema.items!)\n        } else if (typeArray) {\n            const arrayItems: ReactNode = renderArray(itemValue)\n\n            return getElementFromRegistry(itemValue, arrayItems)\n        } else {\n            return getElementFromRegistry(itemValue)\n        }\n    }\n\n    return renderFormElement(value)\n}\n","import Ajv, { ValidateFunction } from 'ajv'\nimport CustomMetaSchema from './custom-meta-schema.json'\n\nconst CLASSES = {\n    file: ['filename', 'content']\n}\n\nexport default class UISchema {\n    schema: any\n    keys: string[]\n    ajv: any\n    validator: ValidateFunction\n    constructor(jsonSchema: any) {\n        this.schema = { ...jsonSchema }\n        this.keys = Object.keys(this.schema.properties || {})\n        this.ajv = new Ajv({ allErrors: true, meta: CustomMetaSchema })\n        this.ajv.addKeyword('instanceof', {\n            type: \"object\",\n            compile: function (schema: string, parentSchema: any) {\n                //@ts-ignore\n                const objectProperties: string[] = CLASSES[schema]\n                if(parentSchema.type !== \"object\"){\n                    throw new Error(`schema is invalid: instanceof attribute should be present on schema of type object`)\n                }\n                if (\n                    !objectProperties.every(function (property) {\n                        return Object.prototype.hasOwnProperty.call(parentSchema.properties || {}, property)\n                    })\n                ) {\n                    throw new Error(`schema is invalid: object instanceof ${schema} is missing one of the fields: ${objectProperties}`)\n                }\n                return function () {\n                    return true\n                }\n            }\n        })\n        this.validator = this.ajv.compile({\n            ...this.schema,\n            $schema: 'https://github.com/ascentcore/react-schema-form/tree/master/src/custom-meta-schema.json#'\n        })\n    }\n\n    validate(data: any): boolean | PromiseLike<any> {\n        return this.validator(data)\n    }\n}\n","import React, { FormEvent } from 'react'\n\ninterface TextElementProperties {\n    value: string\n    onChange: (value: string) => void\n}\n\nexport default function TextElement({\n    value,\n    onChange\n}: TextElementProperties) {\n\n    const handleChange = (event: FormEvent<HTMLInputElement>) => {\n        onChange((event.target as HTMLInputElement).value)\n    }\n\n    return <input type='text' value={value || \"\"} onChange={handleChange} />\n}\n","import React, { FormEvent, CSSProperties } from 'react'\nimport { SchemaProperty } from './form-element'\n\nconst CONTAINER_STYLE: CSSProperties = { position: 'relative' }\nconst FILE_INPUT_STYLE: CSSProperties = { position: 'absolute', opacity: '0', width: '100%' }\n\ninterface FileElementProperties {\n    property: SchemaProperty\n    value: string\n    onChange: (value: string | { filename: string; content: string }) => void\n}\n\nexport default function FileElement({ property, value, onChange }: FileElementProperties) {\n    const handleChange = (event: FormEvent<HTMLInputElement>) => {\n        const inputElement = event.target as HTMLInputElement\n        if (inputElement.files && inputElement.files.length) {\n            const reader = new FileReader()\n            reader.addEventListener('load', function () {\n                if (reader.result) {\n                    let fileContent =\n                        typeof reader.result === 'string' ? reader.result : Buffer.from(reader.result).toString()\n                    fileContent = fileContent.split(';base64,')[1]\n                    if (property.instanceof === 'file') {\n                        onChange({ filename: inputElement.files![0].name, content: fileContent })\n                    } else {\n                        onChange(fileContent)\n                    }\n                }\n            })\n            reader.readAsDataURL(inputElement.files[0])\n        }\n    }\n    return (\n        <span style={CONTAINER_STYLE}>\n            <input\n                type='file'\n                onChange={handleChange}\n                style={FILE_INPUT_STYLE}\n                {...(property.contentMediaType ? { accept: property.contentMediaType } : {})}\n            />\n            <button>Choose file</button>\n            <span>{value ? ' File uploaded' : ' No file chosen'}</span>\n        </span>\n    )\n}\n","import React, { FormEvent } from 'react'\nimport { SchemaProperty } from './form-element'\n\ninterface NumericElementProperties {\n    property: SchemaProperty\n    value: string\n    onChange: (value: number | string) => void\n}\n\nfunction isNumeric(value: string) {\n    return !isNaN(parseInt(value)) || !isNaN(parseFloat(value))\n}\n\nexport default function NumericElement({\n    property,\n    value,\n    onChange\n}: NumericElementProperties) {\n    const handleChange = (event: FormEvent<HTMLInputElement>) => {\n        const { type } = property\n        const { value } = event.target as HTMLInputElement\n        if (isNumeric(value)) {\n            if (type === 'integer') {\n                onChange(parseInt(value))\n            } else {\n                onChange(parseFloat(value))\n            }\n        } else {\n            onChange('')\n        }\n    }\n\n    return (\n        <input\n            type='number'\n            value={value !== undefined ? value : ''}\n            onChange={handleChange}\n        />\n    )\n}\n","import React, { FormEvent, useEffect, useState } from 'react'\nimport { SchemaProperty } from './form-element'\n\ninterface SelectElementProperties {\n    property: SchemaProperty\n    value: string\n    onChange: (event: string) => void\n}\n\nexport default function SelectElement({ property, value, onChange }: SelectElementProperties) {\n    const [options, setOptions] = useState<{ [key: string]: string }[]>([])\n    let [labelKey, valueKey] = [property.labelKey || 'labelKey', property.valueKey || 'valueKey']\n    useEffect(() => {\n        let opts = property.options\n        if (property.enum) {\n            opts = property.enum.map((item: string) => ({\n                labelKey: item,\n                valueKey: item\n            }))\n        } else {\n            labelKey = property.labelKey || labelKey\n            valueKey = property.valueKey || valueKey\n        }\n        opts && setOptions(opts)\n    }, [property])\n\n    const handleChange = (event: FormEvent<HTMLSelectElement>) => {\n        onChange((event.target as HTMLInputElement).value)\n    }\n\n    return (\n        <select onChange={handleChange} value={value !== undefined ? value : ''}>\n            {!value && (\n                <option value='' disabled>\n                    Select your option\n                </option>\n            )}\n            {options.map((opt) => (\n                <option key={opt[labelKey]} value={opt[valueKey]}>\n                    {opt[labelKey]}\n                </option>\n            ))}\n        </select>\n    )\n}\n","import React, { FormEvent, useEffect, useState } from 'react'\nimport { SchemaProperty } from './form-element'\n\ninterface RadioElementProperties {\n    property: SchemaProperty\n    value: string\n    onChange: (event: string) => void\n}\n\nexport default function RadioElement({ property, value, onChange }: RadioElementProperties) {\n    const [options, setOptions] = useState<{ [key: string]: string }[]>([])\n    let [labelKey, valueKey] = [property.labelKey || 'labelKey', property.valueKey || 'valueKey']\n    useEffect(() => {\n        let opts = property.options\n        if (property.enum) {\n            opts = property.enum.map((item: string) => ({\n                labelKey: item,\n                valueKey: item\n            }))\n        } else {\n            labelKey = property.labelKey || labelKey\n            valueKey = property.valueKey || valueKey\n        }\n        opts && setOptions(opts)\n    }, [property])\n\n    const handleChange = (event: FormEvent<HTMLInputElement>) => {\n        onChange((event.target as HTMLInputElement).value)\n    }\n    return (\n        <span>\n            {options.map((opt) => (\n                <div className='radio' key={opt[labelKey]}>\n                    <label>\n                        <input\n                            type='radio'\n                            value={opt[valueKey]}\n                            checked={value === opt[valueKey]}\n                            onChange={handleChange}\n                        />\n                        {` ${opt[valueKey]}`}\n                    </label>\n                </div>\n            ))}\n        </span>\n    )\n}\n","import React, { FormEvent, useEffect } from 'react'\n\ninterface CheckboxElementProperties {\n    value: boolean\n    onChange: (value: boolean) => void\n}\n\nexport default function CheckboxElement({\n    value,\n    onChange\n}: CheckboxElementProperties) {\n    const handleChange = (event: FormEvent<HTMLInputElement>) => {\n        onChange((event.target as HTMLInputElement).checked)\n    }\n\n    return (\n        <input\n            type='checkbox'\n            value={`${value || false}`}\n            onChange={handleChange}\n            checked={value || false}\n        />\n    )\n}\n","import React, { ReactNode, FormEvent } from 'react'\nimport { SchemaProperty } from './form-element'\n\ninterface ButtonElementProperties {\n    property: SchemaProperty\n    value: string\n    onChange: () => void\n    children: ReactNode\n}\n\nexport default function ButtonElement({\n    property,\n    value,\n    onChange,\n    children\n}: ButtonElementProperties) {\n    return <button className={property.className} onClick={onChange}>{value ? value : children}</button>\n}\n","import React, { FormEvent, useEffect, useState } from 'react'\nimport { SchemaProperty } from './form-element'\n\ninterface MultipleSelectElementProperties {\n    property: SchemaProperty\n    value: string[]\n    onChange: (value: string[]) => void\n}\n\nexport default function MultipleSelectElement({ property, value, onChange }: MultipleSelectElementProperties) {\n    const [options, setOptions] = useState<{ [key: string]: string }[]>([])\n    let [labelKey, valueKey] = [property.labelKey || 'labelKey', property.valueKey || 'valueKey']\n    useEffect(() => {\n        let opts = property.options\n        if (property.enum) {\n            opts = property.enum.map((item: string) => ({\n                labelKey: item,\n                valueKey: item\n            }))\n        } else {\n            labelKey = property.labelKey || labelKey\n            valueKey = property.valueKey || valueKey\n        }\n        opts && setOptions(opts)\n    }, [property])\n\n    const handleChange = (event: FormEvent<HTMLSelectElement>) => {\n        const options = (event.target as HTMLSelectElement).options\n        const value = []\n        for (let i = 0, l = options.length; i < l; i++) {\n            if (options[i].selected) {\n                value.push(options[i].value)\n            }\n        }\n        onChange(value)\n    }\n\n    return (\n        <select multiple={true} onChange={handleChange} value={value || []}>\n            <option value='' disabled>\n                Select your options\n            </option>\n            {options.map((opt) => (\n                <option key={opt[labelKey]} value={opt[valueKey]}>\n                    {opt[labelKey]}\n                </option>\n            ))}\n        </select>\n    )\n}\n","import TextElement from './text-element'\nimport FileElement from './file-element'\nimport NumericElement from './numeric-element'\nimport SelectElement from './select-element'\nimport RadioElement from './radio-element'\nimport CheckboxElement from './checkbox-element'\nimport ButtonElement from './button-element'\nimport MultipleSelectElement from './multiple-select-element'\n\nimport { ReactNode } from 'react'\n\nexport const InputElements: { [key: string]: ReactNode } = {\n    TextElement,\n    FileElement,\n    NumericElement,\n    SelectElement,\n    CheckboxElement,\n    ButtonElement,\n    RadioElement,\n    MultipleSelectElement\n}\n","import React, { Fragment, ReactNode } from 'react'\n\ninterface ElementContainerProperties {\n    children: ReactNode\n}\n\nexport default function ElementContainer({\n    children\n}: ElementContainerProperties) {\n    return <Fragment>{children}</Fragment>\n}\n","import React, { ReactNode } from 'react'\nimport { SchemaProperty } from './components/form-element'\n\ninterface ElementWrapperProperties {\n    children: ReactNode\n    property: SchemaProperty\n}\n\nexport default function ElementWrapper({ children, property }: ElementWrapperProperties) {\n    const { type } = property\n    const wrapperClass = `${\n        property.type !== 'object' && property.type !== 'array' ? 'ra-elem-wrapper ' : 'ra-elem-instance'\n    }\n        ra-elem-${property.type}     \n        ${property.error ? 'ra-error' : ''}`\n\n    const labelComponent = () => {\n        if (type !== 'array' && type !== 'object') {\n            return (\n                <label className='ra-form-label'>\n                    {property.title}\n                    {property.isRequired && '*'}\n                </label>\n            )\n        } else {\n            return (\n                <div className='ra-form-title'>\n                    {property.title}\n                    {property.isRequired && '*'}\n                </div>\n            )\n        }\n    }\n\n    return (\n        <span className={wrapperClass}>\n            {labelComponent()}\n            {children}\n            {property.error && (\n                <span className='ra-elem-error-text'>\n                    {typeof property.error !== 'boolean' && property.error[0].message}\n                </span>\n            )}\n        </span>\n    )\n}\n","import React, { ReactNode } from 'react'\n\nimport { InputElements } from './components'\n\nimport ElementContainer from './components/element-container'\n\nimport ElementWrapper from './element-wrapper'\nimport { SchemaProperty } from './components/form-element'\n\nexport interface RegistryKeys {\n    [key: string]: { component?: ReactNode | string; wrapper?: ReactNode }\n}\n\nconst transformStringEntries = (registryEntries: RegistryKeys) => {\n    Object.entries(registryEntries).forEach((registryEntry) => {\n        if (typeof registryEntry[1].component === 'string') {\n            if (InputElements[registryEntry[1].component]) {\n                registryEntry[1].component = InputElements[registryEntry[1].component]\n            } else {\n                registryEntry[1].component = ElementContainer\n            }\n        }\n    })\n}\n\nexport default class ComponentRegistry {\n    _registry: RegistryKeys\n    _wrapper: ReactNode\n    _exceptions: {\n        paths?: RegistryKeys\n        keys?: RegistryKeys\n    }\n\n    constructor(\n        customRegistry = {},\n        wrapper: ReactNode = ElementWrapper,\n        exceptions: {\n            paths?: RegistryKeys\n            keys?: RegistryKeys\n        } = { paths: {}, keys: {} }\n    ) {\n        this._registry = {\n            enum: { component: InputElements['SelectElement'], wrapper: wrapper },\n            multipleEnum: { component: InputElements['MultipleSelectElement'], wrapper: wrapper },\n            boolean: { component: InputElements['CheckboxElement'], wrapper: wrapper },\n            number: { component: InputElements['NumericElement'], wrapper: wrapper },\n            integer: { component: InputElements['NumericElement'], wrapper: wrapper },\n            string: { component: InputElements['TextElement'], wrapper: wrapper },\n            file: { component: InputElements['FileElement'], wrapper: wrapper },\n            button: { component: InputElements['ButtonElement'], wrapper: ElementContainer },\n            addButton: { component: InputElements['ButtonElement'], wrapper: ElementContainer },\n            removeButton: { component: InputElements['ButtonElement'], wrapper: ElementContainer }\n        }\n\n        Object.entries(customRegistry).forEach((customRegistryRecord) => {\n            Object.assign(this._registry[customRegistryRecord[0]], customRegistryRecord[1])\n        })\n\n        this._wrapper = wrapper\n        this._exceptions = Object.assign({ paths: {}, keys: {} }, exceptions)\n\n        transformStringEntries(this._registry)\n        transformStringEntries(this._exceptions.paths!)\n        transformStringEntries(this._exceptions.keys!)\n    }\n\n    getComponent(\n        property: SchemaProperty,\n        itemValue: any,\n        handleChange: (value: string | number | boolean) => void,\n        children: ReactNode | null = null\n    ) {\n        const props = {\n            property,\n            value: itemValue,\n            onChange: handleChange,\n            children: children\n        }\n\n        const pathException = property.path && this._exceptions.paths![property.path]\n\n        const keyException =\n            property.path && this._exceptions.keys![property.path.substr(property.path.lastIndexOf('.') + 1)]\n\n        const Component: any =\n            (pathException && pathException.component) ||\n            (keyException && keyException.component) ||\n            (this._registry[property.registryKey!] && this._registry[property.registryKey!].component) ||\n            ElementContainer\n\n        const Wrapper: any =\n            (pathException && pathException.wrapper) ||\n            (keyException && keyException.wrapper) ||\n            (this._registry[property.registryKey!] && this._registry[property.registryKey!].wrapper) ||\n            this._wrapper\n\n        return (\n            <Wrapper {...props}>\n                <Component {...props} />\n            </Wrapper>\n        )\n    }\n}\n","import ajv, { LimitParams, PatternParams, ComparisonParams } from 'ajv'\n\nexport interface Formatter {\n    [key: string]: Function\n}\n\nconst formatters: Formatter = {\n    'required': (error: ajv.ErrorObject) => {\n        return 'Field is required'\n    },\n    'minLength': (error: ajv.ErrorObject) => {\n        const params: LimitParams = error.params as LimitParams;\n        return `Field must not exceed ${params.limit} characters`\n    },\n    'maxLength': (error: ajv.ErrorObject) => {\n        const params: LimitParams = error.params as LimitParams;\n        return `Field must bet at least ${params.limit} characters`\n    },\n    'pattern': (error: ajv.ErrorObject) => {\n        const params: PatternParams = error.params as PatternParams;\n        return `Field does not match pattern (${params.pattern})`\n    },\n    'minimum': (error: ajv.ErrorObject) => {\n        const params: ComparisonParams = error.params as ComparisonParams;\n        return `Value should be at least ${params.limit}`\n    },\n    'maximum': (error: ajv.ErrorObject) => {\n        const params: ComparisonParams = error.params as ComparisonParams;\n        return `Value should be at most ${params.limit}`\n    },\n    'exclusiveMinimum': (error: ajv.ErrorObject) => {\n        const params: ComparisonParams = error.params as ComparisonParams;\n        return `Value should be greater than ${params.limit}`\n    },\n    'exclusiveMaximum': (error: ajv.ErrorObject) => {\n        const params: ComparisonParams = error.params as ComparisonParams;\n        return `Value should be lower than ${params.limit}`\n    },\n    'minItems': (error: ajv.ErrorObject) => {\n        const params: LimitParams = error.params as LimitParams;\n        return `Should not have fewer than ${params.limit} items`\n    },\n    'uniqueItems': (error: ajv.ErrorObject) => {\n        return 'Should not contain duplicate items'\n    }\n}\n\nexport default function formatErrors(errors: ajv.ErrorObject[], customFn: Function | null): ajv.ErrorObject[] {\n\n    if (errors) {\n        errors.forEach((error: ajv.ErrorObject) => {\n            if (customFn) {\n                customFn(error)\n            } else {\n                const { keyword } = error;\n                const formatter: Function = formatters[keyword];\n                if (formatter) {\n                    error.message = formatter(error);\n                }\n            }\n        })\n    }\n\n    return errors\n}","import React, { useState, ReactNode, useEffect } from 'react'\nimport FormElement, { SchemaProperty } from './components/form-element'\nimport { addProperties, getConditionals, isObject, Conditional } from './utils'\nimport UISchema from './ui-schema'\nimport ComponentRegistry, { RegistryKeys } from './component-registry'\nimport ElementWrapper from './element-wrapper'\nimport ajv, { RequiredParams } from 'ajv'\nimport formatErrors from './error-formatter'\nimport { SCHEMA_KEYWORDS } from './constants'\nconst _ = require('lodash')\n\ninterface ConditionalsState {\n    data: Conditional[]\n    lastEvaluations: string\n}\n\nexport const SchemaForm = ({\n    schema,\n    root = schema,\n    wrapper = ElementWrapper,\n    parentChange = null,\n    data = {},\n    config = null,\n    onSubmit = () => {},\n    errorFormatter = null,\n    path = '',\n    errors: parentErrors = null\n}: {\n    root?: SchemaProperty | null\n    schema?: SchemaProperty | null\n    wrapper?: ReactNode\n    parentChange?: ((subVal: any, key: string) => void) | null\n    data?: any\n    config?: {\n        registry?: RegistryKeys\n        exceptions?: {\n            paths?: RegistryKeys\n            keys?: RegistryKeys\n        }\n    } | null\n    onSubmit?: (data: any, errors: ajv.ErrorObject[]) => void\n    errorFormatter?: Function | null\n    path?: string\n    errors?: ajv.ErrorObject[] | null\n}) => {\n    if (!schema) {\n        throw new Error('schema must be provided to the SchemaForm component')\n    }\n\n    const [currentSchema, setCurrentSchema] = useState<SchemaProperty | null>(null)\n    const [obj, setObj] = useState<{ data: any; childPath: null | string }>(\n        Object.assign({}, { data, childPath: null })\n    )\n    const [keys, setKeys] = useState(Object.keys(schema.properties || {}))\n    const [instance] = useState(() => (parentChange ? null : new UISchema(schema)))\n    const [registry] = useState(\n        () =>\n            new ComponentRegistry(\n                config && config.registry ? config.registry : {},\n                wrapper,\n                config && config.exceptions ? config.exceptions : { paths: {}, keys: {} }\n            )\n    )\n    const [errors, setErrors] = useState<ajv.ErrorObject[]>([])\n    const [conditionals] = useState<ConditionalsState>(() => {\n        const data = getConditionals(schema)\n        return { data, lastEvaluations: '' }\n    })\n\n    const removeObjPath = (path: string[], obj: any) => {\n        const prop = path[0]\n        if (path.length > 1) {\n            prop && removeObjPath(path.slice(1), obj ? obj[prop] : null)\n            if (prop && obj && obj[prop] && Object.keys(obj[prop]).length === 0) {\n                delete obj[prop]\n            }\n        } else {\n            if (obj && prop && obj[prop] != undefined) {\n                delete obj[prop]\n            }\n        }\n    }\n\n    const removeProperties = (currentSchema: any, baseSchema: any, nestedPath: string) => {\n        if (isObject(currentSchema) && isObject(baseSchema)) {\n            if (currentSchema.$ref !== undefined) {\n                const def = currentSchema.$ref.substr(currentSchema.$ref.lastIndexOf('/') + 1)\n                root && root.definitions[def] && addProperties(currentSchema, root!.definitions[def])\n            }\n\n            for (const key in baseSchema) {\n                if (!currentSchema[key]) {\n                    handleParentChange(key)(undefined, `${nestedPath}.${key}`, `${nestedPath}.${key}`)\n                } else {\n                    removeProperties(\n                        currentSchema[key],\n                        baseSchema[key],\n                        key !== SCHEMA_KEYWORDS.PROPERTIES ? `${nestedPath}.${key}` : nestedPath\n                    )\n                }\n            }\n        }\n    }\n\n    const removeData = (schema: any, currentData: any) => {\n        if (isObject(schema) && isObject(currentData)) {\n            if (schema.$ref !== undefined) {\n                const def = schema.$ref.substr(schema.$ref.lastIndexOf('/') + 1)\n                root && root.definitions[def] && addProperties(schema, root!.definitions[def])\n            }\n\n            for (const key in currentData) {\n                if (schema.properties && schema.properties[key] === undefined) {\n                    delete currentData[key]\n                } else {\n                    removeData(schema.properties && schema.properties[key], currentData[key])\n                    if (isObject(currentData[key]) && Object.keys(currentData[key]).length === 0) {\n                        delete currentData[key]\n                    }\n                }\n            }\n        }\n    }\n\n    const checkConditionals = (actualSchema: SchemaProperty) => {\n        if (conditionals.data.length) {\n            let lastEvaluation = '',\n                currentEvaluation\n\n            const newSchema = _.cloneDeep(schema)\n            let newData = _.cloneDeep(obj.data)\n\n            let lastEvaluations = ''\n\n            while (lastEvaluation !== currentEvaluation) {\n                currentEvaluation = lastEvaluation\n                lastEvaluation = ''\n                conditionals.data.forEach((conditional: Conditional) => {\n                    try {\n                        const evalCondition = eval(conditional.compiled)(newData)\n                        if (evalCondition) {\n                            addProperties(newSchema, conditional.then)\n                            newData = _.cloneDeep(obj.data)\n                            removeData(newSchema, newData)\n                            lastEvaluation += '1'\n                        } else {\n                            addProperties(newSchema, conditional.else || {})\n                            newData = _.cloneDeep(obj.data)\n                            removeData(newSchema, newData)\n                            lastEvaluation += '2'\n                        }\n                    } catch (err) {\n                        // property does not exist on data;\n                        lastEvaluation += '0'\n                    }\n                })\n                lastEvaluations += lastEvaluation\n            }\n\n            if (lastEvaluations !== conditionals.lastEvaluations) {\n                removeProperties(newSchema, actualSchema, '')\n                setCurrentSchema(newSchema)\n                setKeys(Object.keys(newSchema.properties || {}))\n                conditionals.lastEvaluations = lastEvaluations\n            }\n        }\n    }\n\n    const handleParentChange = (key: string) => (value: any, childPath: string | null, nestedPath?: string) => {\n        if (nestedPath) {\n            setObj((prevObj: any) => {\n                const newObj = Object.assign({}, { ...prevObj })\n                removeObjPath(nestedPath.substr(1).split('.'), newObj.data)\n                return newObj\n            })\n        } else {\n            setObj((prevObj: any) => {\n                const newValue = Object.assign({ childPath }, { data: { ...prevObj.data, [key]: value } })\n                if (\n                    value === undefined ||\n                    value === '' ||\n                    (value && value.constructor === Array && value.length === 0)\n                ) {\n                    delete newValue.data[key]\n                }\n                return newValue\n            })\n        }\n    }\n\n    const handleSubmit = () => {\n        const result = instance!.validate(obj.data)\n        const errors: ajv.ErrorObject[] = result || !instance!.validator.errors ? [] : instance!.validator.errors\n\n        errors.forEach((err, index, object) => {\n            if (err.keyword === SCHEMA_KEYWORDS.IF) {\n                object.splice(index, 1)\n            } else if (err.params && (err.params as RequiredParams).missingProperty) {\n                err.dataPath += `.${(err.params as RequiredParams).missingProperty}`\n            }\n        })\n\n        const formattedErrors: ajv.ErrorObject[] = formatErrors(errors as ajv.ErrorObject[], errorFormatter)\n        setErrors(formattedErrors)\n\n        onSubmit(obj.data, formattedErrors)\n    }\n\n    const getErrors = (path: string) => {\n        const errArr = [...errors, ...(parentErrors || [])]\n        let result: ajv.ErrorObject[] | boolean = errArr.filter((err) => err.dataPath === path)\n\n        if (result && result.length === 0) {\n            result = false\n        }\n\n        return result\n    }\n\n    useEffect(() => {\n        setCurrentSchema(_.cloneDeep(schema))\n        setKeys(Object.keys(schema.properties || {}))\n    }, [schema])\n\n    useEffect(() => {\n        checkConditionals(currentSchema || schema)\n        if (parentChange && obj.childPath) {\n            parentChange(obj.data, obj.childPath)\n        } else {\n            setErrors(errors.filter((item: ajv.ErrorObject) => item.dataPath !== obj.childPath))\n        }\n    }, [obj])\n\n    return (\n        <span className='ra-schema-form'>\n            {currentSchema &&\n                keys.map((key) => {\n                    const childPath = `${path}.${key}`\n                    const prop = currentSchema.properties![key]\n                    return (\n                        <FormElement\n                            root={root!}\n                            key={key}\n                            error={getErrors(childPath)}\n                            errors={parentErrors || errors}\n                            value={obj.data ? obj.data[key] : undefined}\n                            schema={prop}\n                            path={childPath}\n                            parentSchema={currentSchema}\n                            handleParentChange={handleParentChange(key)}\n                            registry={registry}\n                        />\n                    )\n                })}\n            {!parentChange &&\n                registry.getComponent(\n                    { registryKey: SCHEMA_KEYWORDS.BUTTON, className: 'ra-submit-button' },\n                    'Submit',\n                    handleSubmit\n                )}\n        </span>\n    )\n}\n"],"sourceRoot":""}