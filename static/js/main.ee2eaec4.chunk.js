(this["webpackJsonp@ascentcore/react-schema-form-example"]=this["webpackJsonp@ascentcore/react-schema-form-example"]||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"$id":"https://example.com/person.schema.json","$schema":"http://json-schema.org/draft-07/schema#","type":"object","title":"Person","description":"Person Information","required":["firstName","lastName","type"],"properties":{"firstName":{"type":"string","title":"First Name","description":"The person\'s first name."},"lastName":{"type":"string","title":"Last Name","description":"The person\'s last name."},"age":{"title":"Age","description":"Age in years which must be equal to or greater than zero.","type":"integer","minimum":18},"type":{"title":"Type","type":"string","enum":["NW","NE","SW","SE"]},"agree":{"title":"Agree with TOC","type":"boolean"}}}')},13:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://example.com/root.json","type":"object","required":["title"],"properties":{"title":{"type":"string","title":"Cart Title"},"field":{"title":"Object Type","type":"object","$ref":"#/definitions/Field"},"fields":{"type":"array","maxItems":5,"title":"Array Type","items":{"$ref":"#/definitions/Field"}}},"definitions":{"Field":{"type":"object","required":["name","count"],"properties":{"name":{"type":"string","title":"Name"},"count":{"type":"integer","title":"Items","minimum":1,"maximum":10}}}}}')},14:function(e){e.exports=JSON.parse('{"$id":"https://example.com/person.schema.json","$schema":"http://json-schema.org/draft-07/schema#","type":"object","title":"Person","description":"Person Information","required":["firstName","lastName"],"properties":{"firstName":{"type":"string","title":"First Name","description":"The person\'s first name."},"lastName":{"type":"string","title":"Last Name","description":"The person\'s last name."},"age":{"title":"Age","description":"Age in years which must be equal to or greater than zero.","type":"integer","minimum":18},"type":{"title":"Type","type":"string","enum":["NW","NE","SW","SE"]},"agree":{"title":"Agree with TOC","type":"boolean"}}}')},15:function(e){e.exports=JSON.parse('{"$id":"https://example.com/person.schema.json","$schema":"http://json-schema.org/draft-07/schema#","type":"object","title":"Person","description":"Person Information","required":["firstName","lastName","type"],"properties":{"firstName":{"type":"string","title":"First Name","description":"The person\'s first name."},"lastName":{"type":"string","title":"Last Name","description":"The person\'s last name."},"age":{"title":"Age","description":"Age in years which must be equal to or greater than zero.","type":"integer","minimum":18},"type":{"title":"Type","type":"string","enum":["NW","NE","SW","SE"]},"agree":{"title":"Agree with TOC","type":"boolean"}}}')},45:function(e,t,n){e.exports=n(89)},46:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);n(46);var r=n(0),a=n.n(r),o=n(3),c=n.n(o),i=n(4),s=(n(51),n(52),n(36)),l=n.n(s),m=n(12),p=n(22),u=n(23),d=n(17),h=n(7),f=n(37),y=n.n(f);function g(e){var t=e.root,n=e.property,o=e.path,c=e.value,s=e.errors,l=e.error,m=e.handleParentChange,p=e.registry,u=Object(r.useState)(null),f=Object(i.a)(u,2),y=f[0],g=f[1];Object(r.useEffect)((function(){function e(e){var n=e.substr(e.lastIndexOf("/")+1);return t.definitions[n]}var r,a=n.$ref,o=n.items,c=n.properties;a?r=e(a):o&&(o.$ref?r=e(o.$ref):o.properties&&(r=o)),!r&&c&&(r=n),r&&g(r)}),[n]);var v=function(e){var t=e;e.target&&(t=e.target.value),m(t,o)},b=function(e){return function(){var t=Object(h.a)(c);t.splice(e,1),m(t,o)}};function E(e,t,n){return a.a.createElement(x,{path:e,schema:y,data:t,errors:s,parentChange:function(e,t){if(null!==n){var r=Object(h.a)(c);r[n]=e,m(r,t)}else m(e,t)}})}function N(e){return a.a.createElement(r.Fragment,null,e&&e.map((function(e,t){return a.a.createElement(r.Fragment,{key:"".concat(o,"-").concat(t)},O(e,t),a.a.createElement("button",{onClick:b(t)},"remove item"))})),a.a.createElement("button",{onClick:function(){m([].concat(Object(h.a)(e||[]),[{}]))}},"add item"))}function j(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n.enum||n.options?"enum":n.type,c=o.substr(o.lastIndexOf(".")+1),i=t.required&&t.required.indexOf(c)>-1;return p.getComponent(Object(d.a)(Object(d.a)({},n),{},{path:o,registryKey:a,error:l,isRequired:i,children:r}),e,v)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(y&&"array"!==n.type||y&&"array"===n.type&&null!==t){var r=null===t?o:"".concat(o,"[").concat(t,"]"),a=E(r,e,t);return j(e,a)}if(y&&"array"===n.type){var c=N(e);return j(e,c)}return j(e)}return O(c)}var v=function(){function e(t){Object(p.a)(this,e),this.schema=Object(d.a)({},t),this.keys=Object.keys(this.schema.properties),this.ajv=new y.a({allErrors:!0}),this.validator=this.ajv.compile(this.schema)}return Object(u.a)(e,[{key:"validate",value:function(e){return this.validator(e)}}]),e}();function b(e){var t=e.value,n=e.onChange;return a.a.createElement("input",{type:"text",value:t,onChange:n})}function E(e){var t=e.property,n=e.value,r=e.onChange;return a.a.createElement("input",{type:"number",value:n,onChange:function(e){var n=t.type,a=e.target.value;r("integer"===n?parseInt(a):parseFloat(a))}})}function N(e){var t=e.property,n=e.value,o=e.onChange,c=Object(r.useState)([]),s=Object(i.a)(c,2),l=s[0],m=s[1],p=[t.labelKey||"labelKey",t.valueKey||"valueKey"],u=p[0],d=p[1];return Object(r.useEffect)((function(){var e=t.options;t.enum?e=t.enum.map((function(e){return{labelKey:e,valueKey:e}})):(u=t.labelKey||u,d=t.valueKey||d),m(e)}),[t]),a.a.createElement("select",{onChange:o,value:n,defaultValue:""},!n&&a.a.createElement("option",{value:"",disabled:!0},"Select your option"),l.map((function(e){return a.a.createElement("option",{key:e[u],value:e[d]},e[u])})))}function j(e){e.property;var t=e.value,n=e.onChange;return a.a.createElement("input",{type:"checkbox",value:t,onChange:function(e){n(e.target.checked)}})}function O(e){var t=e.property;return a.a.createElement(r.Fragment,null,t.children)}function C(e){var t=e.children,n=e.property,r=n.type,o="".concat("object"!==n.type&&"array"!==n.type?"ra-elem-wrapper ":"ra-elem-instance","\n        ra-elem-").concat(n.type,"     \n        ").concat(n.error?"ra-error":"");return a.a.createElement("span",{className:o},"array"!==r&&"object"!==r?a.a.createElement("label",{className:"ra-form-label"},n.title||n.path,n.isRequired&&"*"):a.a.createElement("h5",null,n.title),t,n.error&&a.a.createElement("span",{className:"ra-elem-error-text"},n.error[0].keyword))}var w=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;Object(p.a)(this,e),this._registry={enum:{component:N,wrapper:r},boolean:{component:j,wrapper:r},number:{component:E,wrapper:r},integer:{component:E,wrapper:r},string:{component:b,wrapper:r}},Object.entries(n).forEach((function(e){Object.assign(t._registry[e[0]],e[1])})),this.wrapper=r}return Object(u.a)(e,[{key:"getComponent",value:function(e,t,n){var r={property:e,value:t,onChange:n},o=this._registry[e.registryKey]&&this._registry[e.registryKey].component||O,c=this._registry[e.registryKey]&&this._registry[e.registryKey].wrapper||this.wrapper;return a.a.createElement(c,r,a.a.createElement(o,r))}}]),e}(),x=function(e){var t=e.schema,n=e.wrapper,o=e.parentChange,c=e.data,s=e.config,l=e.onValid,m=e.path,p=void 0===m?"":m,u=e.errors;if(!t)throw new Error("schema must be provided to the SchemaForm component");var d=Object(r.useState)(Object.assign({},c)),f=Object(i.a)(d,2),y=f[0],b=f[1],E=Object(r.useState)(Object.keys(t.properties)),N=Object(i.a)(E,1)[0],j=Object(r.useState)(new v(t)),O=Object(i.a)(j,1)[0],C=Object(r.useState)(new w(s&&s.registry,n)),x=Object(i.a)(C,1)[0],S=Object(r.useState)([]),F=Object(i.a)(S,2),k=F[0],T=F[1],V=function(e){return function(t,n){var r=Object.assign({},y,{[e]:t});b(r),o?o(r,n):T(k.filter((function(e){return e.dataPath!==n})))}},q=function(e){var t=[].concat(Object(h.a)(k),Object(h.a)(u||[])).filter((function(t){return t.dataPath===e}));return t&&0===t.length&&(t=!1),t};return a.a.createElement(r.Fragment,null,N.map((function(e){var n="".concat(p,".").concat(e),r=t.properties[e];return a.a.createElement(g,{key:e,error:q(n),errors:u||k,value:y?y[e]:void 0,property:r,path:n,root:t,handleParentChange:V(e),registry:x})})),!o&&a.a.createElement("button",{onClick:function(e){var t=O.validate(y),n=t?[]:O.validator.errors;n.forEach((function(e){e.params&&e.params.missingProperty&&(e.dataPath+=".".concat(e.params.missingProperty))})),T(n),t&&l(y)}},"Submit"))};function S(){return a.a.createElement(x,{schema:m,onValid:function(e){console.log(e)},data:{firstName:"test"}})}var F=n(13);function k(){return a.a.createElement(x,{schema:F,onValid:function(e){console.log(e)},data:{field:{name:"field"},fields:[{name:"item1"},{name:"item2"}]}})}var T=n(14);function V(e){var t=e.property,n=e.error,r=e.children;return a.a.createElement("div",{className:"column col-4"},a.a.createElement("div",null,a.a.createElement("b",null,t.title)),r,a.a.createElement("div",{style:{color:"#FF0000"}},n&&n[0].keyword))}function q(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"columns"},a.a.createElement(x,{schema:T,onValid:function(e){console.log(e)},wrapper:V,data:{firstName:"test"}})))}var K=n(15),P=n(116);function $(e){var t=e.children;return a.a.createElement("div",{className:"column col-4"},t)}function R(e){var t=e.property,n=e.value,r=e.onChange;return a.a.createElement(P.a,{value:n,onChange:r,error:!!t.error,label:t.title,helperText:t.error?t.error[0].keyword:" ",required:t.isRequired})}function W(){var e={string:{component:R,wrapper:$}};return a.a.createElement(x,{schema:K,onValid:function(e){console.log(e)},data:{firstName:"test"},config:{registry:e}})}var A=function(){var e=Object(r.useState)(parseInt(window.location.hash.substr(1))||0),t=Object(i.a)(e,2),n=t[0],o=t[1],c=[{title:"Basic Example",component:a.a.createElement(S,null),code:"import React from 'react'\nimport schema from './basic-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nexport default function BasicSchemaExample() {\n\n    function onValid(data) {\n        console.log(data)\n    }\n\n    const data = {\n        firstName: 'test'\n    }\n\n    return (<SchemaForm schema={schema} onValid={onValid} data={data} />)\n\n}",schema:m},{title:"Nested Schema",component:a.a.createElement(k,null),code:"import React from 'react'\nimport schema from './nested-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nexport default function NestedSchemaExample() {\n\n    function onValid(data) {\n        console.log(data)\n    }\n\n    const data = {\n        field: {\n            name: 'field'\n        },\n        fields: [\n            { name: 'item1' },\n            { name: 'item2' },\n        ]\n    }\n\n    return (<SchemaForm schema={schema} onValid={onValid} data={data} />)\n\n}\n",schema:F},{title:"Custom Wrapper",component:a.a.createElement(q,null),code:"import React from 'react'\nimport schema from './custom-wrapper-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\n\nfunction CustomWrapper({ property, error, children }) {\n    return (<div className=\"column col-4\">\n        <div><b>{property.title}</b></div>\n        {children}\n        <div style={{ 'color': '#FF0000' }}>{error && error[0].keyword}</div>\n    </div>)\n}\n\nexport default function CustomWrapperExample() {\n\n    function onValid(data) {\n        console.log(data)\n    }\n\n    const data = {\n        firstName: 'test'\n    }\n\n    return (\n        <div className=\"container\">\n            <div className=\"columns\">\n                <SchemaForm\n                    schema={schema}\n                    onValid={onValid}\n                    wrapper={CustomWrapper}\n                    data={data} />\n            </div>\n        </div>)\n\n}\n",schema:T},{title:"Custom Registry",component:a.a.createElement(W,null),code:"import React from 'react'\nimport schema from './custom-registry-schema.json'\nimport { SchemaForm } from '@ascentcore/react-schema-form'\nimport { TextField } from '@material-ui/core'\n\nfunction CustomWrapper({ children }) {\n    return <div className='column col-4'>{children}</div>\n}\n\nfunction CustomTextField({ property, value, onChange }) {\n    return (\n        <TextField\n            value={value}\n            onChange={onChange}\n            error={!!property.error}\n            label={property.title}\n            helperText={property.error ? property.error[0].keyword : ' '}\n            required={property.isRequired}\n        />\n    )\n}\n\nexport default function CustomRegistryExample() {\n    function onValid(data) {\n        console.log(data)\n    }\n\n    const data = {\n        firstName: 'test'\n    }\n\n    const customRegistry = {\n        string: { component: CustomTextField, wrapper: CustomWrapper }\n    }\n\n    return (\n        <SchemaForm\n            schema={schema}\n            onValid={onValid}\n            data={data}\n            config={{ registry: customRegistry }}\n        />\n    )\n}\n",schema:K}];return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"columns"},a.a.createElement("div",{className:"column col-3"},a.a.createElement("ul",{className:"nav"},c.map((function(e,t){return a.a.createElement("li",{key:t,className:"nav-item ".concat(t===n?"active":""),onClick:(r=t,function(){o(r)})},a.a.createElement("a",{href:"#".concat(t)},e.title));var r})))),a.a.createElement("div",{className:"column col-9"},a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-header"},a.a.createElement("div",{className:"card-title h5"},c[n].title),a.a.createElement("div",{className:"card-subtitle text-gray"},"Generated Form")),a.a.createElement("div",{className:"card-body"},c[n].component)),a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-body"},a.a.createElement("h4",null,"Code"),a.a.createElement("pre",{className:"code","data-lang":"JS"},a.a.createElement("code",null,c[n].code)),a.a.createElement("h4",null,"Schema"),a.a.createElement(l.a,{src:c[n].schema}))))))};c.a.render(a.a.createElement(A,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.ee2eaec4.chunk.js.map